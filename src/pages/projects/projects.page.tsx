import React, { useEffect, useState } from "react";
import Head from "next/head";
import styles from "./projects.module.scss";
import Layout from "@/components/Layout";
import TextSlider from "./components/TextSlider";
import Project from "./components/Project";
import { useTheme } from "next-themes";

type Props = {};

export default function ProjectsPage({}: Props) {
  const [mounted, setMounted] = useState(false);
  const { theme, systemTheme } = useTheme();

  useEffect(() => setMounted(true), []);
  if (!mounted) return null;

  const currentTheme = theme === "system" ? systemTheme : theme;

  return (
    <>
      <Head>
        <title>Projects | Anıl Şenay</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout>
        <main className={styles.main}>
          <h1>projects</h1>
          <h2>Some of my personal projects</h2>
          <TextSlider textOpacity={currentTheme === "light" ? 0.4 : 0.2} />
          <div className={styles.projects}>
            <Project
              theme={currentTheme}
              videoSrc={require("@/assets/project_videos/next-e-commerce.mp4")}
            />
            <Project
              theme={currentTheme}
              videoSrc={require("@/assets/project_videos/swagno.mp4")}
            />
            <Project
              theme={currentTheme}
              videoSrc={require("@/assets/project_videos/catchup.mp4")}
            />
            <Project
              theme={currentTheme}
              videoSrc={require("@/assets/project_videos/change-my-mind.mp4")}
            />
            <Project
              theme={currentTheme}
              videoSrc={require("@/assets/project_videos/react-food-spin.mp4")}
            />
            <Project
              theme={currentTheme}
              videoSrc={require("@/assets/project_videos/react-native-shopping.mp4")}
            />
          </div>
        </main>
      </Layout>
    </>
  );
}
